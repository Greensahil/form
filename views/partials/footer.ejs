
   <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="/scripts.js"></script>
    <script src="/html2pdf.js"></script>
    <script src="/dateprefixer.js"></script>
   <script>
        
    

        function myFunction(){
            $(':input').removeAttr('placeholder');
           var element = document.getElementById('element-to-print');
        //    var opt = {
        //         filename:     'myfile.pdf',
        //         image:        { type: 'jpeg', quality: 0.98 },
        //         html2canvas:  { scale: 2 },
        //         jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
        //         };

                // New Promise-based usage:
                // var doc = html2pdf(element, {return: true});
                html2pdf().from(element).outputPdf().then(function(pdf) {
    //This logs the right base64
                newpdf=btoa(pdf);
                
                $.post('./setup', {payload: newpdf}, function(result) {
                console.log('result', result);
                console.log(typeof newpdf)
});
})
                 



    //        html2pdf().from(element).outputPdf().then(function(pdf) {
    // //This logs the right base64
    //         const newpdf = btoa(pdf);
    //         // var newpdf = pdf.toString('base64');
    //         $.post('./setup', newpdf, function(result) {
    //             console.log('result', result);
    //             console.log('wroking')
    //         }); 
    //     }); 
                
}
</script>

</body>
</html>